<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pr치ctica i18next - React sin Instalaci칩n</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/i18next/i18next.min.js"></script>
    <script src="https://unpkg.com/react-i18next/react-i18next.min.js"></script>
    <script src="https://unpkg.com/i18next-browser-languagedetector/i18nextBrowserLanguageDetector.min.js"></script>

    <style>
        /* Un poco de CSS extra para que se vea profesional */
        body { background-color: #f8f9fa; }
        .flag-icon { font-size: 1.2rem; margin-right: 5px; }
        .hero-section { background: white; border-bottom: 5px solid #0d6efd; }
    </style>
</head>
<body>

    <div id="root"></div>

    <script type="text/babel">
        // Accedemos a las librer칤as globales
        const { useState, useEffect } = React;
        const { useTranslation, initReactI18next } = ReactI18next;

        // --- A. DEFINICI칍N DE LOS JSON (Simulando archivos locales) ---
        const resources = {
            es: {
                translation: {
                    navbar: {
                        brand: "Portafolio Dev",
                        home: "Inicio",
                        projects: "Proyectos"
                    },
                    hero: {
                        title: "Dise침ando experiencias digitales",
                        // Nota: Aqu칤 ya incluyo la interpolaci칩n {{name}} para que la pruebes
                        subtitle: "Hola, soy {{name}}. Desarrollador Frontend apasionado por React.",
                        cta: "Ver mi trabajo"
                    },
                    projects: {
                        title: "Proyectos Destacados",
                        card_desc: "Una tienda online completa con carrito de compras."
                    }
                }
            },
            en: {
                translation: {
                    navbar: {
                        brand: "Dev Portfolio",
                        home: "Home",
                        projects: "Projects"
                    },
                    hero: {
                        title: "Designing digital experiences",
                        subtitle: "Hi, I'm {{name}}. Frontend Developer passionate about React.",
                        cta: "See my work"
                    },
                    projects: {
                        title: "Featured Projects",
                        card_desc: "A complete online store with shopping cart."
                    }
                }
            },
            de: { // Agrego Alem치n para que pruebes longitudes de texto
                translation: {
                    navbar: {
                        brand: "Entwickler-Portfolio",
                        home: "Startseite",
                        projects: "Projekte"
                    },
                    hero: {
                        title: "Digitale Erlebnisse gestalten",
                        subtitle: "Hallo, ich bin {{name}}. Ein leidenschaftlicher Frontend-Entwickler.",
                        cta: "Meine Arbeit sehen"
                    },
                    projects: {
                        title: "Ausgew칛hlte Projekte",
                        card_desc: "Ein kompletter Online-Shop mit Warenkorb."
                    }
                }
            }
        };

        // --- B. INICIALIZACI칍N DE I18NEXT ---
        i18next
            .use(initReactI18next)
            .use(i18nextBrowserLanguageDetector)
            .init({
                resources,
                fallbackLng: 'es',
                debug: true,
                interpolation: {
                    escapeValue: false
                }
            });

        // --- C. COMPONENTE PRINCIPAL ---
        function App() {
            const { t, i18n } = useTranslation();
            
            // Simulamos un dato din치mico (Ejercicio 1)
            const userName = "Alex";

            const changeLanguage = (lng) => {
                i18n.changeLanguage(lng);
            };

            return (
                <div>
                    {/* NAVBAR */}
                    <nav className="navbar navbar-expand-lg navbar-dark bg-dark shadow">
                        <div className="container">
                            <a className="navbar-brand" href="#">游 {t('navbar.brand')}</a>
                            
                            <div className="d-flex gap-2">
                                <button onClick={() => changeLanguage('es')} className={`btn btn-sm ${i18n.language.startsWith('es') ? 'btn-primary' : 'btn-outline-light'}`}>ES</button>
                                <button onClick={() => changeLanguage('en')} className={`btn btn-sm ${i18n.language.startsWith('en') ? 'btn-primary' : 'btn-outline-light'}`}>EN</button>
                                <button onClick={() => changeLanguage('de')} className={`btn btn-sm ${i18n.language.startsWith('de') ? 'btn-primary' : 'btn-outline-light'}`}>DE</button>
                            </div>
                        </div>
                    </nav>

                    {/* HERO SECTION */}
                    <div className="hero-section p-5 mb-4 text-center">
                        <div className="container-fluid py-5">
                            <h1 className="display-4 fw-bold mb-3">{t('hero.title')}</h1>
                            {/* Uso de interpolaci칩n con variable */}
                            <p className="col-md-8 fs-4 mx-auto text-muted">
                                {t('hero.subtitle', { name: userName })}
                            </p>
                            <button className="btn btn-primary btn-lg mt-3 shadow-sm" type="button">
                                {t('hero.cta')}
                            </button>
                        </div>
                    </div>

                    {/* PROJECTS SECTION */}
                    <div className="container mb-5">
                        <h2 className="text-center mb-4 text-uppercase text-secondary" style={{letterSpacing: '2px'}}>
                            {t('projects.title')}
                        </h2>
                        
                        <div className="row justify-content-center">
                            <div className="col-md-6 col-lg-4">
                                <div className="card shadow border-0">
                                    <div className="card-header bg-warning text-dark fw-bold">E-Commerce</div>
                                    <div className="card-body">
                                        <p className="card-text">{t('projects.card_desc')}</p>
                                        <a href="#" className="btn btn-outline-dark w-100">{t('hero.cta')}</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <footer className="text-center py-4 text-muted border-top mt-5 bg-white">
                        <small>Pr치ctica de Dise침o de Interfaces - i18next & React</small>
                    </footer>
                </div>
            );
        }

        // --- D. RENDERIZADO EN EL DOM ---
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
