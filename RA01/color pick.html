<html>
<head>
<script>
function refreshColor() {

	red = document.getElementById("red").value;
	green = document.getElementById("green").value;
	blue = document.getElementById("blue").value;
	
	rgb = "rgb("+red+","+green+","+blue+")";
	hex = "#"+intToHex(red)+intToHex(green)+intToHex(blue);
	hsl = rgbToHSL(red, green, blue);
	
	document.getElementById("theColor").style.backgroundColor=rgb;
	document.getElementById("colorCodeRGB").innerHTML=rgb;
	document.getElementById("colorCodeHex").innerHTML=hex;
	document.getElementById("colorCodeHSL").innerHTML=hsl;
}

function intToHex(i) {
	hex = ["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];
	
	a=Math.floor(i/16);
	b=i % 16;
	
	return ""+hex[a]+hex[b];
}

function rgbToHSL(red, green, blue) {
	r_ = Math.round(red/255*100)/100;
	g_ = Math.round(green/255*100)/100;
	b_ = Math.round(blue/255*100)/100;
	
	c_max = Math.max(r_, g_, b_);
	c_min = Math.min(r_, g_, b_);
	
	delta = c_max - c_min;
	luminance =  (c_max + c_min)/2;
	saturation = delta == 0 ? 0
		: luminance <= 0.5 ? (c_max-c_min)/(c_max+c_min)
			: (c_max-c_min)/(2.0-c_max-c_min);
	hue = delta == 0 ? 0
		: c_max = r_ ? (g_ - b_)/delta
			: c_max = g_ ? 2.0 + (b_ - r_)/delta
				: 4.0 + (r_ - g_)/ delta;
	hue = Math.round(hue * 60);
	hue = hue < 0 ? hue + 360 : hue;
	
	return "hsl("+hue+","+saturation.toFixed(2)*100+"%,"+luminance.toFixed(2)*100+"%)";	
}
</script>
</head>
<body>
<h1>Color picker</h1>
<form>
<label for="red">Red</label>
<input type="range" id="red" name="red" min="0" max="255" value="0" onchange="refreshColor();"/></br>
<label for="green">Green</label>
<input type="range" id="green" name="green" min="0" max="255" value="0" onchange="refreshColor();"/></br>
<label for="blue">Blue</label>
<input type="range" id="blue" name="blue" min="0" max="255" value="0" onchange="refreshColor();"/></br>

<p id="colorCodeRGB">&nbsp;</p>
<p id="colorCodeHex">&nbsp;</p>
<p id="colorCodeHSL">&nbsp;</p>
<div id="theColor" style="width:500px; height:500px; background-color:black">
</div>

</form>
</body>
</html>
